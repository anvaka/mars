webpackJsonp([2],{"9SxT":function(e,t,a){"use strict";var o={showLabels:!0,autoHeightMap:!0,currentState:"intro",lineDensity:28,lineWidth:1,smoothSteps:1,mapOpacity:100,heightScale:42,oceanLevel:0,aboutVisible:!1,blank:!1,error:null,zazzleLink:null,startOver:function(){o.zazzleLink=null,o.generatingPreview=!1,o.currentState="intro",o.blank=!1},generatingPreview:!1,settingsOpen:!1,shouldDraw:!1,showPrintMessage:!1,renderProgress:null,hidePrintMessageForSession:!1,width:window.innerWidth,height:window.innerHeight,backgroundColor:{r:255,g:255,b:255,a:1},lineBackground:{r:255,g:255,b:255,a:1},lineColor:{r:22,g:22,b:22,a:.85}};t.a=o},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("fZjL"),r=a.n(o),n=a("9SxT"),i=a("aDgn"),l=a("1e2d"),s=a.n(l),u=a("5dBV"),c=a.n(u),h=a("//Fk"),m=a.n(h),v="pk.eyJ1IjoiYW52YWthIiwiYSI6ImNrNWRqcDdnNTF4MHYzbXAzNDJzODludnYifQ.2WDAbuAzUuchNtCAcZitAw";function f(e,t,a,o){arguments.length>4&&void 0!==arguments[4]&&arguments[4];o||(o={});var r=d(e.lat,a),n=g(t.lng,a),i=g(e.lng,a),l=d(t.lat,a),s=Math.round(256*(n-Math.floor(n))),u=Math.round(256*(r-Math.floor(r))),c=Math.round(256*(Math.ceil(i)-i)),h=Math.round(256*(Math.ceil(l)-l));if(r=Math.floor(r),n=Math.floor(n),l=Math.floor(l),n>(i=Math.floor(i))){var f=n;n=i,i=f}if(r>l){var z=r;r=l,l=z}var b=document.createElement("canvas"),y=i-n+1,F=l-r+1;if(y>50||F>50)throw new Error("Too many tiles request. How did you do it?");b.width=256*y,b.height=256*F;for(var w=[],x="https://api.mapbox.com/v4/anvaka.8ctdbgc9/zoom/tLong/tLat.pngraw?access_token="+v,M=0;M<y;M++){var C=n+M,P=p(C,a);P<-180?(P=360+P,C=Math.floor(g(P,a))):P>=180&&(P-=360,C=Math.floor(g(P,a)));for(var k=0;k<F;k++){var E=r+k,I=x.replace("zoom",a).replace("tLat",E).replace("tLong",C);w.push({url:I,x:256*M,y:256*k})}}o.total=w.length;var R=b.getContext("2d");return S(),m.a.all(w.map(function(e){return(t=e.url,new m.a(function(e,a){var o=new Image;o.onload=function(){e(o)},o.onerror=a,o.crossOrigin="anonymous",o.src=t})).then(function(t){R.drawImage(t,e.x,e.y),S()}).catch(function(t){R.beginPath(),R.fillStyle="#0186a0",R.fillRect(e.x,e.y,256,256),S()});var t})).then(function(){return{canvas:b,left:s,top:u,right:b.width-c,bottom:Math.min(b.height,b.height-h)}});function S(){void 0===o.completed&&(o.completed=-1),o.completed=Math.min(o.total,o.completed+1),o.message="Downloading tiles: "+o.completed+" of "+o.total+"..."}}function g(e,t){return(e+180)/360*Math.pow(2,t)}function d(e,t){return(1-Math.log(Math.tan(e*Math.PI/180)+1/Math.cos(e*Math.PI/180))/Math.PI)/2*Math.pow(2,t)}function p(e,t){return e/Math.pow(2,t)*360-180}function z(e,t,a){var o=void 0,r=!1,n=void 0;return{render:function(){var l=t.getBounds(),s=Math.floor(t.getZoom(s));e.showPrintMessage=!1,e.renderProgress={message:"",isCancelled:!1,completed:!1};var u=c()(e.heightScale);f(l.getNorthEast(),l.getSouthWest(),s,e.renderProgress,u).then(function(t){if(r)return;e.renderProgress.message="Rendering...";var l=c()(e.oceanLevel),s=a.height,h=a.width,m=parseFloat(e.smoothSteps);a.style.opacity=c()(e.mapOpacity)/100,n=a.getContext("2d");var v=i(e.lineColor),f=i(e.lineBackground),g=Math.round(s*e.lineDensity/100),d=c()(e.heightScale),p=function(e,t){var a=e.canvas,o=e.left,r=e.top,n=e.right,i=e.bottom,l=a.width,s=a.getContext("2d").getImageData(0,0,a.width,a.height).data;return{getMinMaxHeight:function(){for(var e=Number.POSITIVE_INFINITY,t=Number.NEGATIVE_INFINITY,a=-1,c=-1,h=o;h<n;++h)for(var m=r;m<i;++m){var v=4*(m*l+h),f=s[v+0],g=s[v+1],d=s[v+2],p=u(f,g,d);p<e&&(e=p,c=m),p>t&&(t=p,a=m)}return{minH:e,maxH:t,maxRow:a,minRow:c}},getIteratorSettings:function(e,t,a){var o=Math.round(t/e),r=a-o;for(;r-o>0;)r-=o;return{start:r,step:o,stop:t}},getHeight:function(e,t){var a=Math.round(o+t*(n-o)),c=4*(Math.round(r+e*(i-r))*l+a),h=s[c+0],m=s[c+1],v=s[c+2];return u(h,m,v)}};function u(e,a,o){var r=(e-71.33100003398009)/256*29429;return r<t&&(r=t-1),r}}(t,l),z=p.getMinMaxHeight(),b=z.minH,y=z.maxH,F=z.maxRow,w=z.minRow,x=b<0?w:F,M=y-b,C=[],P=p.getIteratorSettings(g,s+u,x),k=P.start,E=c()(e.lineWidth)||1;function I(e){if(!(e.length<3)){var t=function(e,t){for(var a=[],o=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY,n=e.length/2,i=0;i<n;i+=1){for(var l=i-t,s=l>=0?l:0,u=i+t+1,c=0,h=0,m=s;m<u&&m<n;m+=1)h+=e[2*m+1],c+=1;var v=h/c;a[2*i]=e[2*i],a[2*i+1]=v,o<v&&(o=v),r>v&&(r=v)}return{points:a,min:r,max:o}}(e,m);if(e=t.points,t.max-t.min>1){n.beginPath(),n.fillStyle=f,n.moveTo(e[0],e[1]);for(var a=2;a<e.length;a+=2)n.lineTo(e[a],e[a+1]);n.lineTo(e[e.length-2],t.max),n.lineTo(e[0],t.max),n.closePath(),n.fill()}n.beginPath(),n.lineWidth=E,n.strokeStyle=v,n.moveTo(e[0],e[1]);for(var o=2;o<e.length;o+=2)n.lineTo(e[o],e[o+1]);n.stroke()}}n.clearRect(0,0,h,s),n.beginPath(),n.fillStyle=i(e.backgroundColor),n.fillRect(0,0,h,s),function t(){var a=performance.now();for(var r=k;r<P.stop;r+=P.step){I(C),C=[];for(var n=0;n<h;++n){var i=p.getHeight(r/s,n/h),u=r-Math.floor(d*(i-b)/M);i<=l?(I(C),C=[]):C.push(n,u)}k=r+P.step;var c=performance.now()-a;if(c>2e3)return void(o=requestAnimationFrame(t))}I(C);e.renderProgress.message="Done!";e.renderProgress=null}()})},cancel:function(){cancelAnimationFrame(o),r=!0,e.renderProgress=null,e.showPrintMessage=!1}};function i(e){return"rgba("+e.r+", "+e.g+", "+e.b+", "+e.a+")"}}var b=a("d0YE");var y=a("3zJd"),F=a.n(y),w=r()(i.a),x=0,M=F()({theme:"RED"},{useSearch:!0});!function(){var e=M.get("theme");(x=w.findIndex(function(t){return t===e}))<0&&(x=0);n.a.theme=w[x]}(),n.a.init=E,n.a.redraw=D,n.a.setNextTheme=R,n.a.setThemeName=S,n.a.setLabelsVisible=A,a.e(0).then(function(){a("WOBu")}.bind(null,a)).catch(a.oe);var C=void 0,P=void 0,k=void 0;function E(){s.a.accessToken=v,window.map=C=new s.a.Map({trackResize:!0,container:"map",minZoom:1,style:{version:8,name:"mars",center:[0,0],zoom:2.64,bearing:0,pitch:0,sources:{"mars-tiles":{url:"mapbox://anvaka.8ctdbgc9",type:"raster",tileSize:256},composite:{url:"mapbox://anvaka.40t5yrsw",type:"vector"}},sprite:"mapbox://sprites/anvaka/ck49e9ayb0djv1cmmjkpm8u16/ck2u8j60r58fu0sgyxrigm3cu",glyphs:"mapbox://fonts/anvaka/{fontstack}/{range}.pbf",layers:[{id:"background",type:"background",paint:{"background-color":"hsla(0, 0%, 0%, 0)"}},{id:"mars200m",type:"raster",source:"mars-tiles",layout:{},paint:{"raster-color-ramp":Object(b.a)(n.a.theme)}},{id:"crater-label",type:"symbol",source:"composite","source-layer":"mars_labels-bizwyb",filter:["match",["get","type"],["Crater, craters"],!0,!1],layout:{"text-field":["to-string",["get","clean_name"]],"text-size":["interpolate",["linear"],["zoom"],3,12,12,["case",[">",["get","diameter"],50],32,26]],visibility:"none"},paint:{}},{id:"mountains",type:"symbol",source:"composite","source-layer":"mars_labels-bizwyb",filter:["match",["get","type"],["Mons, montes"],!0,!1],layout:{"text-field":["to-string",["get","clean_name"]],"text-size":["step",["zoom"],0,2,["max",["+",["/",["*",16,["-",["get","diameter"],14]],2044],4],14],2.5,14],"text-offset":[0,-1],"text-font":["Roboto Regular","Arial Unicode MS Regular"]},paint:{"text-halo-width":.1,"text-halo-color":"hsla(0, 0%, 100%, 0.65)"}},{id:"terra-labels",type:"symbol",source:"composite","source-layer":"mars_labels-bizwyb",filter:["match",["get","type"],["Terra, terrae"],!0,!1],layout:{"text-field":["to-string",["get","clean_name"]],"text-size":["step",["zoom"],14,1,14,2,0],"text-offset":[0,0],"text-font":["Roboto Medium","Arial Unicode MS Regular"]},paint:{"text-halo-color":"hsla(189, 0%, 100%, 0.71)","text-color":"hsl(0, 0%, 0%)","text-halo-width":.2}},{id:"platia-labels",type:"symbol",source:"composite","source-layer":"mars_labels-bizwyb",filter:["match",["get","type"],["Planitia, planitiae"],!0,!1],layout:{"text-field":["to-string",["get","clean_name"]],"text-size":["step",["zoom"],14,1,14,2,0],"text-offset":[0,0],"text-font":["Roboto Medium","Arial Unicode MS Regular"]},paint:{"text-halo-color":"hsla(189, 0%, 100%, 0.71)","text-color":"hsl(0, 0%, 0%)","text-halo-width":.2}}],created:"2019-12-17T04:55:56.118Z",id:"ck49e9ayb0djv1cmmjkpm8u16",modified:"2019-12-21T19:43:42.202Z",owner:"anvaka",visibility:"private",draft:!1},center:[-92.88,18.79],zoom:2.64,hash:!0}),C.addControl(new s.a.NavigationControl({showCompass:!1}),"top-right"),C.on("zoomstart",B),C.on("zoomend",D),C.on("dragstart",B),C.on("dragend",D),C.on("load",function(){A(n.a.showLabels),I(),D()}),C.dragRotate.disable(),C.touchZoomRotate.disableRotation()}function I(){k&&clearTimeout(k),n.a.showPrintMessage||(k=setTimeout(function(){n.a.showPrintMessage=!0},1e4))}function R(){x+=1,x%=w.length,S(w[x])}function S(e){(x=w.findIndex(function(t){return t===e}))<0||(n.a.theme=e,M.set("theme",n.a.theme),C&&(C.getLayer("mars200m").colorRampTexture=null,C.setPaintProperty("mars200m","raster-color-ramp",Object(b.a)(n.a.theme)),T(),C.triggerRepaint()))}function T(){I();var e=function(){if(n.a.showLabels){var e=i.a[n.a.theme];return{text:e.labelColor,halo:e.haloColor}}return{text:"transparent",halo:"transparent"}}();C.getStyle().layers.filter(function(e){return"symbol"===e.type&&"composite"===e.source}).map(function(e){return e.id}).forEach(function(t){C.setPaintProperty(t,"text-color",e.text),C.setPaintProperty(t,"text-halo-color",e.halo)})}function A(){I(),T()}function B(){clearTimeout(k),n.a.zazzleLink=null;var e=document.querySelector(".height-map");e&&(e.style.opacity=.02)}function D(){if(I(),C){var e=document.querySelector(".height-map");e&&(C.resize(),n.a.shouldDraw?(e.style.display="",P&&P.cancel(),(P=z(n.a,C,e)).render()):e.style.display="none")}}},aDgn:function(e,t,a){"use strict";t.a={RED:{labelColor:"#ffffff",haloColor:"#000000",colorRamp:[{size:.5,value:"#000000"},{size:1,value:"#441807"},{size:1,value:"#BF451C"},{size:1,value:"#E57D27"},{size:1,value:"#FBA529"},{size:0,value:"#FFFFFFF"}]},GREEN:{labelColor:"#000000",haloColor:"#FFFFFF",colorRamp:[{size:1,value:"#000000"},{size:1,value:"#16005E"},{size:1,value:"#1B1170"},{size:1,value:"#004489"},{size:1,value:"#1B7AA0"},{size:1,value:"#28A8AF"},{size:1,value:"#00C1B6"},{size:1,value:"#00D7BC"},{size:1,value:"#49EBCD"},{size:1,value:"#41DFBB"},{size:1,value:"#00B689"},{size:1,value:"#00A666"},{size:1,value:"#009967"},{size:1,value:"#277F57"},{size:1,value:"#005B2C"},{size:1,value:"#004700"},{size:1,value:"#004F00"},{size:1,value:"#006400"},{size:1,value:"#3E6F27"},{size:1,value:"#527724"},{size:1,value:"#64842B"},{size:1,value:"#609100"},{size:1,value:"#84A900"},{size:1,value:"#8BB500"},{size:1,value:"#A5CA00"},{size:1,value:"#C2D558"},{size:1,value:"#DBE974"},{size:1,value:"#F7F57B"},{size:1,value:"#FFF4A3"},{size:1,value:"#FFE391"},{size:1,value:"#FFCA78"},{size:1,value:"#F8B966"},{size:1,value:"#E89C40"},{size:1,value:"#D9831F"},{size:1,value:"#BF6E1C"},{size:1,value:"#AF6222"},{size:1,value:"#824F2A"},{size:1,value:"#684024"},{size:1,value:"#4F2B07"},{size:0,value:"#4F2B07"}]},GRAY:{labelColor:"#ffffff",haloColor:"#000000",colorRamp:[{size:1,value:"#00000000"},{value:"#FFFFFF00"}]},HAZE:{labelColor:"#FFFFFF",haloColor:"#000000",colorRamp:[{size:1,value:"#000000"},{size:1,value:"#495086"},{size:1,value:"#BBC6E9"},{size:1,value:"#CD8684"},{size:1,value:"#EDDDC3"},{size:1,value:"#FDFCE8"},{size:0,value:"#FEFEFE"}]}}},d0YE:function(e,t,a){"use strict";t.a=function(e){return i(256,u(e)).map(l)},t.b=function(e){return"#"+s(e>>24&255)+s(e>>16&255)+s(e>>8&255)};var o=a("gBtx"),r=a.n(o),n=a("aDgn");function i(e,t){for(var a,o,n,i=t.reduce(function(e,t){return e+(t.size||0)},0),l=[],s=1;s<t.length;++s)for(var u=Math.ceil(e*t[s-1].size/i),c=f(t[s-1].value),h=f(t[s].value),m=0;m<u;++m){var v=(o=h,n=m/u,{r:(a=c).r*(1-n)+o.r*n,g:a.g*(1-n)+o.g*n,b:a.b*(1-n)+o.b*n,a:255});l.push(v)}return l;function f(e){return{r:r()(e.substr(1,2),16),g:r()(e.substr(3,2),16),b:r()(e.substr(5,2),16)}}}function l(e){var t=void 0===e.a?255:e.a;return e.r<<24|e.g<<16|e.b<<8|t}function s(e){return((e=Math.round(e))<16?"0":"")+e.toString(16)}function u(e){return(n.a[e]||n.a.EARTH).colorRamp}}},["NHnr"]);
//# sourceMappingURL=app.31d23db6bffc4dc14664.js.map